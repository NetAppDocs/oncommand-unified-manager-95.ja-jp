---
permalink: online-help/task-moving-workloads-to-a-node-in-a-different-ha-pair.html 
sidebar: sidebar 
keywords:  
summary: 現在ワークロードが実行されているHAペアよりも空きパフォーマンス容量が大きい別のハイアベイラビリティ（HA）ペアのノード上のアグリゲートをUnified Managerで特定し、その後、選択したボリュームを新しい HA ペア上のアグリゲートに移動できます。 
---
= 別の HA ペアのノードへのワークロードの移動
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
現在ワークロードが実行されている HA ペアよりも空きパフォーマンス容量が大きい別のハイアベイラビリティ（ HA ）ペアのノード上のアグリゲートを Unified Manager で特定し、その後、選択したボリュームを新しい HA ペア上のアグリゲートに移動できます。



== 作業を開始する前に

* オペレータ、OnCommand 管理者、またはストレージ管理者のロールが必要です。
* クラスタが 2 つ以上の HA ペアで構成されている必要があります
+
クラスタに HA ペアが 1 つしかない場合は、この改善策を実施できません。

* 現在パフォーマンス問題がある HA ペアの 2 つのノードの名前を記録しておく必要があります。
* ノードがパフォーマンスイベントを受け取った日付と時刻を記録しておく必要があります。
* イベントIDを記録しておく必要があります。たとえば、"p-sdt-clus1-nod -6982`"のようにします。
* Unified Manager で 1 カ月分以上のパフォーマンスデータの収集と分析が行われている必要があります。




== このタスクについて

空きパフォーマンス容量が大きいノード上のアグリゲートに負荷の高いワークロードを移動すれば、両ノードでのワークロードの効率が向上します。この手順 を使用して次のリソースを特定すると、負荷の高いワークロードを別のHAペアの空きパフォーマンス容量の大きいノードに移動できます。

* 同じクラスタ上の別の HA ペアで最も空きパフォーマンス容量が大きいノード
* 別のノードで最も空きパフォーマンス容量が大きいアグリゲート
* 現在のノードで最も負荷の高いボリューム




== 手順

. 同じクラスタ上の別の HA ペアを構成するノードを特定します。
+
.. [ * Event Details * ] ページで、ノードが存在するクラスタの名前をクリックします。
+
パフォーマンス / クラスタランディングページにクラスタの詳細が表示されます。

.. [ * 概要 * ] ページの [ * 管理対象オブジェクト * ] ペインで [ * ノード * ] をクリックします。
+
このクラスタ上のノードのリストが、パフォーマンス/ノードページに表示されます。

.. 現在パフォーマンス問題がある HA ペアとは別の HA ペアのノードの名前を書き留めます。


. 別の HA ペアで最も空きパフォーマンス容量が大きいノードを特定します。
+
.. [*パフォーマンス/ノード*]ページで、[使用済みパフォーマンス容量]列をクリックして、使用率が最も低いノードをソートします。
+
これにより、ワークロードの移動先にするノードの候補が一覧表示されます。

.. ワークロードの移動先にする別の HA ペアのノードの名前を書き留めます。


. 別のノードで最も空きパフォーマンス容量が大きいアグリゲートを特定します。
+
.. [*パフォーマンス/ノード*]ページで、ノードをクリックします。
+
ノードの詳細が Performance/NodeExplorer ヘエシに表示されます。

.. View and Compare * メニューで、このノードのアグリゲートを選択します。
+
このノード上のアグリゲートがグリッドに表示されます。

.. 使用済みパフォーマンス容量 * 列をクリックして、アグリゲートを使用量が最も少ない順にソートします。
+
これにより、ワークロードの移動先にするアグリゲートの候補が一覧表示されます。

.. ワークロードの移動先にするアグリゲートの名前を書き留めます。


. イベントを受け取ったノードで負荷の高いワークロードを特定します。
+
.. イベントの * Event * 詳細ページに戻ります。
.. 影響を受けるボリューム * フィールドで、最初のノードのボリューム数のリンクをクリックします。
+
パフォーマンス/ボリュームページが開き、そのノード上のボリュームがフィルタリングされて一覧表示されます。

.. 合計容量 * 列をクリックして、ボリュームを最大割り当てスペースでソートします。
+
これにより、移動するボリュームの候補が一覧表示されます。

.. 移動するボリュームの名前と、そのボリュームが現在配置されているアグリゲートの名前を書き留めます。
.. このイベントに関係した 2 つ目のノードに対して手順 4c と 4d を実行して、そのノードから移動するボリュームの候補を特定します。


. 事前に特定した別のノードで最も空きパフォーマンス容量が大きいアグリゲートにボリュームを移動します。
+
移動処理は、OnCommand のSystem Manager、OnCommand Workflow Automation 、ONTAP コマンド、またはこれらのツールを組み合わせて使用して実行できます。





== 完了後

数日後に、このノードまたはアグリゲートから同じタイプのイベントを受け取っていないかどうかを確認します。
