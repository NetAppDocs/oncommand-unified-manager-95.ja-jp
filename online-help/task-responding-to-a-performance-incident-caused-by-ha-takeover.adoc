---
permalink: online-help/task-responding-to-a-performance-incident-caused-by-ha-takeover.html 
sidebar: sidebar 
keywords:  
summary: Unified Managerを使用して、ハイアベイラビリティ（HA）ペアを構成するクラスタノードでの大量のデータ処理が原因のパフォーマンスイベントを調査できます。また、 Unified Manager を使用してノードの健全性を確認し、ノードで検出された最近の健全性イベントがパフォーマンスイベントに関与しているかどうかを判断できます。 
---
= HA テイクオーバーが原因の動的なパフォーマンスイベントへの対処
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Unified Manager を使用して、ハイアベイラビリティ（ HA ）ペアを構成するクラスタノードでの大量のデータ処理が原因のパフォーマンスイベントを調査できます。また、 Unified Manager を使用してノードの健全性を確認し、ノードで検出された最近の健全性イベントがパフォーマンスイベントに関与しているかどうかを判断できます。



== 作業を開始する前に

* オペレータ、OnCommand 管理者、またはストレージ管理者のロールが必要です。
* 新規、確認済み、または廃止状態のパフォーマンスイベントが存在する必要があります。




== 手順

. イベントの詳細情報を表示するには、イベントの詳細 * ページを表示します。
. イベントに関連するワークロードおよび競合状態のクラスタコンポーネントを示す * 概要 * を確認します。
+
競合状態のクラスタコンポーネントによってレイテンシが影響を受けた Victim ボリュームが 1 つあります。パートナーノードからすべてのワークロードをテイクオーバーしてデータを処理中のノードが、競合状態のクラスタコンポーネントです。競合状態のコンポーネントの下にあるデータ処理アイコンが赤で強調表示され、イベント発生時にデータ処理を行っていたノードの名前がかっこ内に表示されます。

. 概要 *で、Victimボリュームの名前をクリックします。
+
パフォーマンス/ボリュームの詳細ページが表示されます。ページ下部のイベントタイムラインで、変更イベントアイコン（image:../media/opm-change-icon.gif["変更イベントアイコン"]） Unified Manager が HA テイクオーバーの開始を検出した時間。

. HAテイクオーバーの変更イベントのアイコンにカーソルを合わせます。
+
HAテイクオーバーの詳細がイベントリストテーブルに表示されます。レイテンシグラフに表示されたイベントから、 HA テイクオーバーと同じタイミングで発生した高レイテンシが原因で、選択したボリュームでパフォーマンスしきい値が超えたことがわかります。

. [*データを次の単位でブレークダウンする]を選択します。
. [*Latency*]で、[***クラスタ・コンポーネント***]を選択します。
. [Submit （送信） ] をクリックします。
+
クラスタコンポーネントグラフが表示されます。このチャートには合計レイテンシのクラスタコンポーネント別の内訳が表示されます。

. ページの下部で、HAテイクオーバーの開始の変更イベントアイコンにマウスカーソルを合わせます。
. クラスタコンポーネント*グラフで、データ処理のレイテンシを*レイテンシ*グラフの合計レイテンシと比較します。
+
HA テイクオーバーの実行時に、データ処理ノードでワークロード需要が増加したためにデータ処理の急増が発生しています。CPU 利用率の増加によってレイテンシが増加し、イベントがトリガーされました。

. 障害が発生したノードを修正したら、OnCommand System Managerを使用してHAギブバックを実行します。ワークロードはパートナーノードから修復されたノードに移動します。
. HAギブバックが完了したら、Unified Managerで、手順2で記録したイベントIDを検索します。
+
HAテイクオーバーによってトリガーされたイベントがイベントの詳細ページに表示されます。イベントの状態が「obsolete」になり、これはイベントが解決されたことを示します。

. 概要 *で、Victimボリュームの名前をクリックします。
+
パフォーマンス/ボリュームの詳細ページが表示されます。ページ下部のイベントのタイムラインで、変更イベントのアイコンが表示された場所がUnified ManagerがHAギブバックの完了を検出した時間です。

. [*データを次の単位でブレークダウンする]を選択します。
. [*Latency*]で、[***クラスタ・コンポーネント***]を選択します。
+
クラスタコンポーネントグラフが表示されます。

. ページの下部で、HAギブバックの変更イベントのアイコンにカーソルを合わせます。
+
変更イベントがEvents Listテーブルで強調表示され、HAギブバックが正常に完了したことを示します。

. クラスタコンポーネント*グラフで、データ処理のレイテンシを*レイテンシ*グラフの合計レイテンシと比較します。
+
データ処理コンポーネントでのレイテンシが低下し、その結果合計レイテンシも低下しています。選択したボリュームが現在データ処理に使用しているノードでイベントが解決されました。


